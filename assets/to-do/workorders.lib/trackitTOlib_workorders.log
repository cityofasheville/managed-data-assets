2020-04-02 00:08:05|   0.1|  0.1|INFORM|FME 2017.1.1.1 (20171014 - Build 17652 - WIN32)
2020-04-02 00:08:05|   0.1|  0.0|INFORM|FME_HOME is 'c:\FME2017\'
2020-04-02 00:08:05|   0.1|  0.0|INFORM|FME Desktop ESRI Edition (floating)
2020-04-02 00:08:05|   0.1|  0.0|INFORM|Permanent License.
2020-04-02 00:08:05|   0.1|  0.0|INFORM|Machine host name is: coa-gis-fme2
2020-04-02 00:08:05|   0.1|  0.0|INFORM|START - ProcessID: 2868, peak process memory usage: 30192 kB, current process memory usage: 30168 kB
2020-04-02 00:08:05|   0.1|  0.0|INFORM|FME Configuration: Command line arguments are `c:\FME2017\fme' `C:\COA\bedrock\working_directory\workorders.lib/trackitTOlib_workorders.fmw'
2020-04-02 00:08:05|   0.2|  0.1|INFORM|Shared folders for formats are : c:\FME2017\datasources;C:\Users\mssqlgisadmin\Documents\FME\Formats
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for transformers are : c:\FME2017\transformers;C:\Users\mssqlgisadmin\Documents\FME\Transformers;C:\Users\mssqlgisadmin\AppData\Roaming\Safe Software\FME\FME Store\Transformers
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for coordinate systems are : C:\Users\mssqlgisadmin\Documents\FME\CoordinateSystems
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for coordinate system exceptions are : C:\Users\mssqlgisadmin\Documents\FME\CoordinateSystemExceptions
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for coordinate system grid overrides are : C:\Users\mssqlgisadmin\Documents\FME\CoordinateSystemGridOverrides
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for CS-MAP transformation exceptions are : C:\Users\mssqlgisadmin\Documents\FME\CsmapTransformationExceptions
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Shared folders for transformer categories are : C:\Users\mssqlgisadmin\Documents\FME\TransformerCategories
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Reader Keyword is `NULL_SOURCE'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Writer Keyword is `MULTI_WRITER'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Writer Group Definition Keyword is `MULTI_WRITER_DEF'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Reader type is `NULL'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Writer type is `MULTI_WRITER'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: No destination coordinate system set
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Current working folder is `C:\COA\bedrock\working_directory\workorders.lib'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Temporary folder is `C:\Users\MSSQLG~1\AppData\Local\Temp', set from environment variable `TEMP'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: FME_HOME is `c:\FME2017\'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: FME_BASE is 'no'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: FME_MF_DIR is 'C:\COA\bedrock\working_directory\workorders.lib/'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: FME_MF_NAME is 'trackitTOlib_workorders.fmw'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: FME_PRODUCT_NAME is 'FME(R) 2017.1.1.1'
2020-04-02 00:08:05|   0.2|  0.0|INFORM|System Status: 95.11 GB of disk space available in the FME temporary folder (C:\Users\MSSQLG~1\AppData\Local\Temp)
2020-04-02 00:08:05|   0.2|  0.0|INFORM|System Status: 4.00 GB of virtual memory available
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Operating System: Microsoft Windows Server 2012 R2 Server 4.0 64-bit  (Build 9600)
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Platform: WIN32
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Locale: en_US
2020-04-02 00:08:05|   0.2|  0.0|INFORM|Code Page: 1252  (ANSI - Latin I)
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Process limits are 8.00 GB of physical memory and 4.00 GB of address space
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Start freeing memory when process usage exceeds 2.83 GB of memory or 3.41 GB of address space
2020-04-02 00:08:05|   0.2|  0.0|INFORM|FME Configuration: Stop freeing memory when process usage is below 2.12 GB of memory and 2.56 GB of address space
2020-04-02 00:08:05|   0.3|  0.1|INFORM|Creating writer for format: 
2020-04-02 00:08:05|   0.3|  0.0|INFORM|Creating reader for format: NULL (Nothing)
2020-04-02 00:08:05|   0.3|  0.0|INFORM|Trying to find a DYNAMIC plugin for reader named `NULL'
2020-04-02 00:08:05|   0.3|  0.0|INFORM|Loaded module 'NULL' from file 'c:\FME2017\plugins/NULL.dll'
2020-04-02 00:08:05|   0.3|  0.0|INFORM|FME API version of module 'NULL' matches current internal version (3.8 20170315)
2020-04-02 00:08:05|   0.3|  0.0|INFORM|Using MultiWriter with keyword `MULTI_WRITER' to output data (ID_ATTRIBUTE is `multi_writer_id')
2020-04-02 00:08:05|   0.3|  0.0|INFORM|Writer output will be ordered by value of multi_writer_id
2020-04-02 00:08:05|   0.4|  0.0|INFORM|Loaded module 'QueryFactory' from file 'c:\FME2017\plugins/QueryFactory.dll'
2020-04-02 00:08:05|   0.4|  0.0|INFORM|FME API version of module 'QueryFactory' matches current internal version (3.8 20170315)
2020-04-02 00:08:05|   0.4|  0.0|INFORM|Emptying factory pipeline
2020-04-02 00:08:06|   1.9|  1.5|INFORM|FME Configuration: Named Connection Storage: 'C:\Users\mssqlgisadmin\AppData\Roaming\Safe Software\FME\'
2020-04-02 00:08:06|   1.9|  0.0|INFORM|FME Configuration: Using Named Connection values from 'TrackIT' for R_1
2020-04-02 00:08:06|   1.9|  0.0|INFORM|Creating reader for format: Microsoft SQL Server Non-Spatial
2020-04-02 00:08:06|   1.9|  0.1|INFORM|Trying to find a DYNAMIC plugin for reader named `MSSQL_ADO'
2020-04-02 00:08:06|   1.9|  0.0|INFORM|Loaded module 'MSSQL_ADO' from file 'c:\FME2017\plugins/FME_ADO.dll'
2020-04-02 00:08:06|   1.9|  0.0|INFORM|FME API version of module 'MSSQL_ADO' matches current internal version (3.8 20170315)
2020-04-02 00:08:06|   1.9|  0.0|INFORM|Performing query against MSSQL_ADO dataset `TrackIT'
2020-04-02 00:08:06|   1.9|  0.0|INFORM|Microsoft SQL Server Non-Spatial Reader: Opening `TRACKIT_DATA_PROD' for read operation
2020-04-02 00:08:06|   1.9|  0.0|INFORM|Microsoft SQL Server Non-Spatial Reader: Trying to connect using SQL Server 2012 Native Client...
2020-04-02 00:09:07|   2.0|  0.0|ERROR |Microsoft SQL Server Non-Spatial Reader: Query failed, possibly due to a malformed statement.  Query Text `SELECT DISTINCT
	A.WOID AS id, 
	A.PARENTWOID AS parent_id,
	children, 
	CASE WHEN children IS NULL THEN 0 ELSE 1 END AS has_children,
	A.RESPONSEDATE AS respond_by, 
	A.TASK AS title,
	orig_notes.NoteText description,
	A.TYPE AS issue_type, 
	A.REQUEST AS requestor,
	A.REQDATE AS requested_time, 
	A.CLSDDATE AS resolved_time,
	A.ELAPSETIME AS elapsed_time, 
    A.ELAPSEMIN AS elapsed_min,
	A.PRIORITY AS priority,
	A.DUEDATE AS due_time, 
	A.RESPONS AS assignee, 
	A.HOURS AS time_spent,
	A.DEPT AS department, 
	CONVERT(VARCHAR(MAX),A.NOTE) AS resolution,
	Status.WorkOrderStatusName AS current_status,
	CASE WHEN children IS NULL THEN A.LOOKUP1 ELSE 'Project' END AS type, 
	A.LOOKUP2 AS hotlist,
	CASE 
	WHEN A.WO_TEXT1 LIKE 'Top 10%'
	THEN NULL
	WHEN A.WO_TEXT1 LIKE '%Top 10%'
	THEN SUBSTRING(A.WO_TEXT1,2,2) 
	ELSE NULL END	AS rank, 
	CASE 
	WHEN A.WO_TEXT1 LIKE '%Top 10%'
	THEN RIGHT(RTRIM(A.WO_TEXT1),5)
	WHEN A.WO_TEXT1 LIKE '%City Need%'
	THEN RIGHT(RTRIM(A.WO_TEXT1),5)
	ELSE NULL END	AS period,
	A.RESPONDEDDATE AS initial_response_time, 
	A.WOTYPE2 AS issue_subtype,
	A.ASSNDATE AS assigned_time, 
	A.WOTYPE3 AS category
	FROM TASKS AS A
	LEFT JOIN (
		select a1.woid, a1.NoteText
		FROM (
			SELECT woid, CONVERT(VARCHAR(MAX),NoteText) NoteText, TaskNoteId
			FROM dbo.TaskNote
			LEFT JOIN dbo.TaskNoteCategory
			ON TaskNote.TaskNoteCategoryId = TaskNoteCategory.TaskNoteCategoryId
			LEFT JOIN dbo.TaskNoteType
			ON TaskNote.TaskNoteTypeId = TaskNoteType.TaskNoteTypeId
			WHERE TaskNoteType.TaskNoteTypeName = 'Incident Description'
		) AS a1
		INNER JOIN (
			SELECT woid, MIN(TaskNoteId) AS MinId
			FROM dbo.TaskNote
			LEFT JOIN dbo.TaskNoteCategory
			ON TaskNote.TaskNoteCategoryId = TaskNoteCategory.TaskNoteCategoryId
			LEFT JOIN dbo.TaskNoteType
			ON TaskNote.TaskNoteTypeId = TaskNoteType.TaskNoteTypeId
			WHERE TaskNoteType.TaskNoteTypeName = 'Incident Description'
			GROUP BY woid
		) AS a2
		on a1.woid = a2.woid
		AND a1.TaskNoteId = a2.MinId
	) orig_notes
	on A.WOID = orig_notes.woid
	left join TASKS AS children
	on A.WOID = children.PARENTWOID
	LEFT JOIN WorkOrderStatus AS Status ON A.WorkOrderStatusId = Status.WorkOrderStatusId
	LEFT JOIN (
		SELECT * FROM (
			SELECT WOID, children = STUFF
			(
				(
					SELECT ',' + CONVERT(VARCHAR(10),WOID)
					FROM TASKS As T2
					WHERE T2.PARENTWOID = T1.WOID
					AND T2.PARENTWOID <> T2.WOID
					ORDER BY CONVERT(VARCHAR(10),WOID)
					FOR XML PATH (''), TYPE
				).value('.', 'varchar(max)')
			, 1, 1, '')
			FROM TASKS As T1
			GROUP BY WOID
		) inr
	) AS kids
	ON A.WOID = kids.WOID
    WHERE A.RESPONS IS NOT NULL
	order by A.REQDATE desc'. Provider error `(-2147217871) Query timeout expired'
2020-04-02 00:09:07|   2.0|  0.0|ERROR |A fatal error has occurred. Check the logfile above for details
2020-04-02 00:09:07|   2.0|  0.0|INFORM|Microsoft SQL Server Non-Spatial Reader: Closing `TRACKIT_DATA_PROD' . Read operation complete
2020-04-02 00:09:07|   2.0|  0.0|STATS |SQLCreator_Creator(CreationFactory): Created 1 features
2020-04-02 00:09:07|   2.0|  0.0|STATS |SQLCreator <REJECTED> Output Nuker(TeeFactory): Cloned 1 input feature(s) into 0 output feature(s)
2020-04-02 00:09:07|   2.0|  0.0|STATS |SQLCreator_RESULT Brancher -1 4(BranchingFactory): Branched 0 input features -- 0 features routed to the target factory, and 0 features routed to the fallback factory.
2020-04-02 00:09:07|   2.0|  0.0|STATS |SQLCreator_<Rejected>(TeeFactory): Cloned 0 input feature(s) into 0 output feature(s)
2020-04-02 00:09:07|   2.0|  0.0|STATS |_CREATOR_BRANCH_TARGET(TeeFactory): Cloned 0 input feature(s) into 0 output feature(s)
2020-04-02 00:09:07|   2.0|  0.0|STATS |Destination Feature Type Routing Correlator(RoutingFactory): Tested 0 input feature(s), wrote 0 output feature(s): 0 matched merge filters, 0 were routed to output, 0 could not be routed.
2020-04-02 00:09:07|   2.0|  0.0|STATS |Final Output Nuker(TeeFactory): Cloned 0 input feature(s) into 0 output feature(s)
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|STATS |                            Features Read Summary
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|STATS |==============================================================================
2020-04-02 00:09:07|   2.0|  0.0|STATS |Total Features Read                                                          0
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|STATS |                           Features Written Summary
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|STATS |==============================================================================
2020-04-02 00:09:07|   2.0|  0.0|STATS |Total Features Written                                                       0
2020-04-02 00:09:07|   2.0|  0.0|STATS |=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
2020-04-02 00:09:07|   2.0|  0.0|INFORM|Translation was SUCCESSFUL with 0 warning(s) (0 feature(s) output)
2020-04-02 00:09:07|   2.0|  0.0|INFORM|FME Session Duration: 1 minute 2.0 seconds. (CPU: 1.5s user, 0.4s system)
2020-04-02 00:09:07|   2.0|  0.0|INFORM|END - ProcessID: 2868, peak process memory usage: 81188 kB, current process memory usage: 80768 kB
