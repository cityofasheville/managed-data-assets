{
    "run_group": "paymentus",
    "tasks": [
      {
        "type": "table_copy",
        "description": "Create lame empty control file",
        "source_location": {
          "connection": "pubrecdb1/mdastore1/dbadmin",
          "schemaname": "internal",
          "tablename": "emptydata"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "CIF${YYYY}${MM}${DD}.ctl",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "table_copy",
        "description": "Create lame empty control file",
        "source_location": {
          "connection": "pubrecdb1/mdastore1/dbadmin",
          "schemaname": "internal",
          "tablename": "emptydata"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "Payment${YYYY}${MM}${DD}.ctl",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "table_copy",
        "description": "Create lame empty control file",
        "source_location": {
          "connection": "pubrecdb1/mdastore1/dbadmin",
          "schemaname": "internal",
          "tablename": "emptydata"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "Susp${YYYY}${MM}${DD}.ctl",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "table_copy",
        "description": "Copy Paymentus CIF to S3",
        "source_location": {
          "connection": "munis/munprod/mssqlgisadmin",
          "schemaname": "amd",
          "tablename": "ub_pm_cif_file"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "CIF${YYYY}${MM}${DD}.csv",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy Paymentus CIF to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/input/",
        "filename": "CIF${YYYY}${MM}${DD}.csv",
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy 'ctl' file to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/input/",
        "filename": "CIF${YYYY}${MM}${DD}.ctl",
        "active": true
      },

      {
        "type": "table_copy",
        "description": "Copy Paymentus Payment History to S3",
        "source_location": {
          "connection": "munis/munprod/mssqlgisadmin",
          "schemaname": "amd",
          "tablename": "ub_pm_payment_history_loader_today_no_ivr"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "Payment${YYYY}${MM}${DD}.csv",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy Paymentus Payment History to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/payment-history/",
        "filename": "Payment${YYYY}${MM}${DD}.csv",
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy 'ctl' file to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/payment-history/",
        "filename": "Payment${YYYY}${MM}${DD}.ctl",
        "active": true
      },

      {
        "type": "table_copy",
        "description": "Copy Paymentus Suspended Accounts to S3",
        "source_location": {
          "connection": "munis/munprod/mssqlgisadmin",
          "schemaname": "amd",
          "tablename": "ub_pm_suspended_accounts"
        },
        "target_location": {
          "connection": "s3_data_files",
          "filename": "Susp${YYYY}${MM}${DD}.csv",
          "s3_path": "paymentus/"
        },
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy Paymentus Suspended Accounts to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/suspended/",
        "filename": "Susp${YYYY}${MM}${DD}.csv",
        "active": true
      },
      {
        "type": "sftp",
        "description": "Copy 'ctl' file to FTP site",
        "action": "put",
        "s3_connection": "s3_data_files",
        "s3_path": "paymentus/",
        "ftp_connection": "paymentus_ftp",
        "ftp_path": "/suspended/",
        "filename": "Susp${YYYY}${MM}${DD}.ctl",
        "active": true
      }
    ]
}
